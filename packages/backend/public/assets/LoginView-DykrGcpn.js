import{q as o,c as u,a as e,i as x,s as m,v as c,n as v,f as l,t as f,b as B,o as p,j as k,z as V}from"./vendor-D2h_NbJw.js";import{a as z,u as S}from"./index-BWLtSEKQ.js";const P={class:"login-page min-vh-100"},T={class:"container-fluid h-100"},q={class:"row h-100"},A={class:"col-12 col-md-4 login-form d-flex align-items-center"},N={class:"w-100 p-4"},R={class:"mb-4"},j={class:"form-floating"},C=["disabled"],D={class:"invalid-feedback"},E={class:"mb-4"},L={class:"form-floating"},M=["disabled"],U={class:"invalid-feedback"},Z=["disabled"],F={key:0,class:"spinner-border spinner-border-sm me-2"},J={__name:"LoginView",setup(I){const b=k(),h=V(),w=z(),d=S(),a=o({username:"",password:""}),g=o(null),i=o(!1),n=o({username:"",password:""}),_=()=>{let t=!0;return n.value={username:"",password:""},a.value.username?a.value.username.length<3&&(n.value.username="Benutzername muss mindestens 3 Zeichen lang sein",t=!1):(n.value.username="Benutzername ist erforderlich",t=!1),a.value.password?a.value.password.length<4&&(n.value.password="Passwort muss mindestens 4 Zeichen lang sein",t=!1):(n.value.password="Passwort ist erforderlich",t=!1),t},y=async()=>{if(_()){i.value=!0;try{await w.login(a.value.username,a.value.password),d.success("Erfolgreich angemeldet");const t=h.query.redirect||"/admin";b.push(t)}catch(t){d.error(t.message)}finally{i.value=!1}}};return(t,s)=>(p(),u("div",P,[e("div",T,[e("div",q,[s[7]||(s[7]=e("div",{class:"col-md-8 d-none d-md-flex login-bg align-items-center justify-content-center text-center text-white"},[e("div",null,[e("i",{class:"bi bi-calendar-event display-1 mb-4"}),e("h1",{class:"display-4 fw-bold mb-4"},"Termin-Buchungssystem"),e("p",{class:"h4"},"Verwalten Sie Ihre Termine einfach und effizient")])],-1)),e("div",A,[e("div",N,[s[6]||(s[6]=e("div",{class:"text-center mb-4"},[e("i",{class:"bi bi-calendar-event h1 text-primary d-block d-md-none"}),e("h2",{class:"h2 fw-bold"},"Admin Login")],-1)),e("form",{onSubmit:x(y,["prevent"]),ref_key:"formRef",ref:g,class:"needs-validation",novalidate:""},[e("div",R,[e("div",j,[m(e("input",{type:"text",class:v(["form-control",{"is-invalid":n.value.username}]),id:"username","onUpdate:modelValue":s[0]||(s[0]=r=>a.value.username=r),placeholder:"Benutzername",disabled:i.value,required:""},null,10,C),[[c,a.value.username]]),s[2]||(s[2]=e("label",{for:"username"},[e("i",{class:"bi bi-person me-2"}),l("Benutzername ")],-1)),e("div",D,f(n.value.username),1)])]),e("div",E,[e("div",L,[m(e("input",{type:"password",class:v(["form-control",{"is-invalid":n.value.password}]),id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>a.value.password=r),placeholder:"Passwort",disabled:i.value,required:""},null,10,M),[[c,a.value.password]]),s[3]||(s[3]=e("label",{for:"password"},[e("i",{class:"bi bi-lock me-2"}),l("Passwort ")],-1)),e("div",U,f(n.value.password),1)])]),e("button",{type:"submit",class:"btn btn-primary w-100 py-3 mb-4",disabled:i.value},[i.value?(p(),u("span",F)):B("",!0),s[4]||(s[4]=l(" Anmelden "))],8,Z),s[5]||(s[5]=e("p",{class:"text-center text-muted"}," Termin-Buchungssystem Administrationsbereich ",-1))],544)])])])])]))}};export{J as default};
