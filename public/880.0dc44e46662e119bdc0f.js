/*! For license information please see 880.0dc44e46662e119bdc0f.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[880],{3009:(t,e,r)=>{r.r(e),r.d(e,{default:()=>Y}),r(8070),r(3510),r(4007),r(2432),r(5307),r(9392),r(6411),r(5305),r(9620),r(9911),r(3873),r(8981),r(6082),r(6569),r(3975),r(595),r(7573),r(3277),r(8794),r(1806),r(3185),r(3795),r(8404),r(5668),r(7678),r(1909),r(2380),r(8291),r(1280),r(630),r(7968),r(1759),r(865),r(568),r(1011),r(3249),r(8867),r(7010);var n=r(2288),o=r(2746),i=r(2416),a=r(1564),l=r(2565),c=r(6064),s=(r(1875),r(2234),r(8737),r(8376),r(7748),r(1784));function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t,e,r){return(e=function(t){var e=function(t){if("object"!=u(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d={class:"modal-dialog"},m={class:"modal-content"},h={class:"modal-header"},y={class:"modal-title"},g={class:"modal-body"},b={class:"col-12"},x={class:"col-md-6"},k={class:"col-md-6"},w={class:"col-md-6"},L={class:"col-md-6"},S={class:"col-md-6"},E={class:"col-md-6"},T={class:"col-md-6"},O={class:"col-12"},j={class:"form-check"},I={class:"modal-footer"},P=["disabled"];const C={__name:"EventForm",props:{event:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["save","close"],setup:function(t,e){var r=e.emit,a=t,l=r,c=(0,i.KR)({title:"",date:"",startTime:"",location:"",room:"",duration:60,maxBookings:1,price:0,visibility:!0});(0,n.sV)((function(){var t={title:a.event.title||"",date:"",startTime:"",location:a.event.location||"",room:a.event.room||"",duration:a.event.duration||60,maxBookings:a.event.maxBookings||1,price:a.event.price||0,visibility:!1!==a.event.visibility};if(console.log("Initial event data:",t),a.event.date){var e=new Date(a.event.date);t.date=e.toLocaleDateString("sv").split("T")[0]}if(a.event.startTime)if(a.event.startTime.includes(":")&&!a.event.startTime.includes("T"))t.startTime=a.event.startTime,console.log("Time already in HH:MM format:",t.startTime);else{var r=new Date(a.event.startTime);if(isNaN(r.getTime()))console.warn("Invalid time format:",a.event.startTime),t.startTime="";else{var n=r.getHours().toString().padStart(2,"0"),o=r.getMinutes().toString().padStart(2,"0");t.startTime="".concat(n,":").concat(o),console.log("Converted time to HH:MM:",t.startTime)}}c.value=t,console.log("Final form data:",c.value)}));var u=function(){var t,e,r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},c.value);console.log("Form data before submit:",r);try{if(r.duration=parseInt(r.duration),r.maxBookings=parseInt(r.maxBookings),r.price=parseFloat(r.price),r.date&&r.startTime){var n=(t=r.startTime.split(":"),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=new Date(r.date);a.setHours(parseInt(o),parseInt(i),0,0),r.date=a.toISOString().split("T")[0],r.startTime=a.toISOString(),console.log("Formatted date and time:",{date:r.date,startTime:r.startTime})}l("save",r)}catch(t){throw console.error("Error formatting form data:",t),t}};return function(e,r){return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",m,[(0,n.Lk)("div",h,[(0,n.Lk)("h5",y,(0,s.v_)(t.event.id?"Termin bearbeiten":"Neuen Termin erstellen"),1),(0,n.Lk)("button",{type:"button",class:"btn-close",onClick:r[0]||(r[0]=function(t){return e.$emit("close")})})]),(0,n.Lk)("div",g,[(0,n.Lk)("form",{onSubmit:(0,o.D$)(u,["prevent"]),class:"row g-3"},[(0,n.Lk)("div",b,[r[11]||(r[11]=(0,n.Lk)("label",{class:"form-label"},"Titel",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(t){return c.value.title=t}),type:"text",class:"form-control",required:""},null,512),[[o.Jo,c.value.title]])]),(0,n.Lk)("div",x,[r[12]||(r[12]=(0,n.Lk)("label",{class:"form-label"},"Datum",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[2]||(r[2]=function(t){return c.value.date=t}),type:"date",class:"form-control",required:""},null,512),[[o.Jo,c.value.date]])]),(0,n.Lk)("div",k,[r[13]||(r[13]=(0,n.Lk)("label",{class:"form-label"},"Startzeit",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[3]||(r[3]=function(t){return c.value.startTime=t}),type:"time",class:"form-control",required:""},null,512),[[o.Jo,c.value.startTime]])]),(0,n.Lk)("div",w,[r[14]||(r[14]=(0,n.Lk)("label",{class:"form-label"},"Ort",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[4]||(r[4]=function(t){return c.value.location=t}),type:"text",class:"form-control"},null,512),[[o.Jo,c.value.location]])]),(0,n.Lk)("div",L,[r[15]||(r[15]=(0,n.Lk)("label",{class:"form-label"},"Raum",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[5]||(r[5]=function(t){return c.value.room=t}),type:"text",class:"form-control"},null,512),[[o.Jo,c.value.room]])]),(0,n.Lk)("div",S,[r[16]||(r[16]=(0,n.Lk)("label",{class:"form-label"},"Dauer (Minuten)",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[6]||(r[6]=function(t){return c.value.duration=t}),type:"number",class:"form-control",min:"1",required:""},null,512),[[o.Jo,c.value.duration,void 0,{number:!0}]])]),(0,n.Lk)("div",E,[r[17]||(r[17]=(0,n.Lk)("label",{class:"form-label"},"Max. Buchungen",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[7]||(r[7]=function(t){return c.value.maxBookings=t}),type:"number",class:"form-control",min:"1",required:""},null,512),[[o.Jo,c.value.maxBookings,void 0,{number:!0}]])]),(0,n.Lk)("div",T,[r[18]||(r[18]=(0,n.Lk)("label",{class:"form-label"},"Preis (€)",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[8]||(r[8]=function(t){return c.value.price=t}),type:"number",class:"form-control",min:"0",step:"0.01",required:""},null,512),[[o.Jo,c.value.price,void 0,{number:!0}]])]),(0,n.Lk)("div",O,[(0,n.Lk)("div",j,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":r[9]||(r[9]=function(t){return c.value.visibility=t}),type:"checkbox",class:"form-check-input",id:"visibility"},null,512),[[o.lH,c.value.visibility]]),r[19]||(r[19]=(0,n.Lk)("label",{class:"form-check-label",for:"visibility"},"Sichtbar",-1))])])],32)]),(0,n.Lk)("div",I,[(0,n.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:r[10]||(r[10]=function(t){return e.$emit("close")})},"Abbrechen"),(0,n.Lk)("button",{type:"button",class:"btn btn-primary",onClick:u,disabled:t.loading},(0,s.v_)(t.loading?"Speichern...":"Speichern"),9,P)])])])}}};var A=r(7433);const D=(0,A.A)(C,[["__scopeId","data-v-737b93ed"]]);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function F(){F=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),l=new P(n||[]);return o(a,"_invoke",{value:T(t,r,l)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var v="suspendedStart",p="suspendedYield",d="executing",m="completed",h={};function y(){}function g(){}function b(){}var x={};s(x,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(C([])));w&&w!==r&&n.call(w,a)&&(x=w);var L=b.prototype=y.prototype=Object.create(x);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(o,i,a,l){var c=f(t[o],t,i);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==_(u)&&n.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,l)}),(function(t){r("throw",t,a,l)})):e.resolve(u).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=v;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var l=n.delegate;if(l){var c=O(l,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===v)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?m:p,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_(e)+" is not iterable")}return g.prototype=b,o(L,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,c,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},S(E.prototype),s(E.prototype,l,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(L),s(L,c,"Generator"),s(L,a,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=function(t){var e=function(t){if("object"!=_(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N(t,e,r,n,o,i,a){try{var l=t[i](a),c=l.value}catch(t){return void r(t)}l.done?e(c):Promise.resolve(c).then(n,o)}function K(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){N(i,n,o,a,l,"next",t)}function l(t){N(i,n,o,a,l,"throw",t)}a(void 0)}))}}var B={class:"container-fluid py-3"},V={class:"d-flex justify-content-between align-items-center mb-3"},H={class:"mb-4"},G={key:0,class:"text-center py-4"},J={key:1,class:"text-center py-4"},X={key:2,class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-3"},q={key:3,class:"modal fade show",style:{display:"block"}};const $={__name:"AdminView",setup:function(t){var e=(0,a.i)(),r=(0,i.KR)(!1),s=(0,i.KR)([]),u=(0,i.KR)({list:!1,save:!1,delete:!1}),f=(0,i.KR)({title:"",date:"",startTime:"",duration:60,maxBookings:1,price:0,visibility:!0}),v=(0,i.KR)({visibility:"all"}),p=(0,n.EW)((function(){return"all"===v.value.visibility?s.value:s.value.filter((function(t){return"visible"===v.value.visibility?t.visibility:!t.visibility}))})),d=function(){var t=K(F().mark((function t(){var r,n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.value.list=!0,t.prev=1,console.log("Fetching all events (including hidden) as admin..."),t.next=5,l.K.getEvents(!0);case 5:r=t.sent,console.log("Raw response:",r),Array.isArray(r)&&console.log("Sample event bookings:",null===(n=r[0])||void 0===n?void 0:n.bookings),s.value=Array.isArray(r)?r.map((function(t){return console.log("Event ".concat(t.id," bookings:"),t.bookings),U(U({},t),{},{visibility:Boolean(t.visibility),bookings:t.bookings||[]})})):[],s.value.length>0&&(console.log("Events after processing:",s.value.map((function(t){var e;return{id:t.id,title:t.title,bookingsCount:(null===(e=t.bookings)||void 0===e?void 0:e.length)||0,bookings:t.bookings}}))),s.value.sort((function(t,e){return new Date(t.startTime)-new Date(e.startTime)}))),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),console.error("Error fetching events:",t.t0),e.error("Fehler beim Laden der Termine: "+t.t0.message),s.value=[];case 17:return t.prev=17,u.value.list=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,12,17,20]])})));return function(){return t.apply(this,arguments)}}(),m=function(t){f.value=U({},t),r.value=!0},h=function(t){console.log("Original item:",t);var e={title:"".concat(t.title," (Kopie)"),date:t.date,startTime:t.startTime,duration:parseInt(t.duration)||60,maxBookings:parseInt(t.maxBookings)||1,price:parseFloat(t.price)||0,visibility:!1!==t.visibility,id:void 0,bookings:void 0,bookedSeats:void 0};if(console.log("Initial copy:",e),e.date&&e.startTime){var n=new Date(e.date),o=new Date(e.startTime);e.date=n.toLocaleDateString("sv").split("T")[0];var i=o.getHours().toString().padStart(2,"0"),a=o.getMinutes().toString().padStart(2,"0");e.startTime="".concat(i,":").concat(a),console.log("Formatted date:",e.date),console.log("Formatted time:",e.startTime)}console.log("Final copy:",e),f.value=e,r.value=!0},y=function(){var t=K(F().mark((function t(r){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Möchten Sie diesen Termin wirklich löschen?")){t.next=2;break}return t.abrupt("return");case 2:return u.value.delete=!0,t.prev=3,t.next=6,l.K.deleteEvent(r.id);case 6:return e.success("Termin erfolgreich gelöscht"),t.next=9,d();case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("Error deleting event:",t.t0),e.error("Fehler beim Löschen: "+t.t0.message);case 15:return t.prev=15,u.value.delete=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,11,15,18]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=K(F().mark((function t(n){return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.value.save=!0,t.prev=1,!n.id){t.next=8;break}return t.next=5,l.K.updateEvent(n.id,n);case 5:e.success("Termin erfolgreich aktualisiert"),t.next=11;break;case 8:return t.next=10,l.K.createEvent(n);case 10:e.success("Termin erfolgreich erstellt");case 11:return r.value=!1,t.next=14,d();case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error saving event:",t.t0),e.error("Fehler beim Speichern: "+t.t0.message);case 20:return t.prev=20,u.value.save=!1,t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[1,16,20,23]])})));return function(e){return t.apply(this,arguments)}}();return d(),function(t,e){return(0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("div",V,[e[4]||(e[4]=(0,n.Lk)("h1",{class:"h3"},"Termine verwalten",-1)),(0,n.Lk)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=function(t){return r.value=!0})},e[3]||(e[3]=[(0,n.Lk)("i",{class:"bi bi-plus-circle"},null,-1),(0,n.eW)(" Neuer Termin ")]))]),(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return v.value.visibility=t}),class:"form-select"},e[5]||(e[5]=[(0,n.Lk)("option",{value:"all"},"Alle Termine",-1),(0,n.Lk)("option",{value:"visible"},"Nur sichtbare",-1),(0,n.Lk)("option",{value:"hidden"},"Nur versteckte",-1)]),512),[[o.u1,v.value.visibility]])]),u.value.list?((0,n.uX)(),(0,n.CE)("div",G,e[6]||(e[6]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):p.value.length?((0,n.uX)(),(0,n.CE)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.value,(function(t){return(0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"col"},[(0,n.bF)(c.A,{event:t,loading:u.value.save||u.value.delete,"is-admin":!0,onEdit:m,onCopy:h,onDelete:y,onRefresh:d},null,8,["event","loading"])])})),128))])):((0,n.uX)(),(0,n.CE)("div",J,e[7]||(e[7]=[(0,n.Lk)("p",{class:"text-muted mb-0"},"Keine Termine gefunden",-1)]))),r.value?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.bF)(D,{event:f.value,loading:u.value.save,onSave:g,onClose:e[2]||(e[2]=function(t){return r.value=!1})},null,8,["event","loading"])])):(0,n.Q3)("",!0)])}}},Y=(0,A.A)($,[["__scopeId","data-v-a61d78ee"]])},6859:(t,e,r)=>{var n=r(5821),o=r(9944),i=r(3628),a=r(4412),l=r(8146),c=r(866),s=r(9389),u=r(4417),f=r(2350),v=r(9874),p=Array;t.exports=function(t){var e=i(t),r=c(this),d=arguments.length,m=d>1?arguments[1]:void 0,h=void 0!==m;h&&(m=n(m,d>2?arguments[2]:void 0));var y,g,b,x,k,w,L=v(e),S=0;if(!L||this===p&&l(L))for(y=s(e),g=r?new this(y):p(y);y>S;S++)w=h?m(e[S],S):e[S],u(g,S,w);else for(g=r?new this:[],k=(x=f(e,L)).next;!(b=o(k,x)).done;S++)w=h?a(x,m,[b.value,S],!0):b.value,u(g,S,w);return g.length=S,g}},9295:(t,e,r)=>{var n=r(7825),o=Math.floor,i=function(t,e){var r=t.length;if(r<8)for(var a,l,c=1;c<r;){for(l=c,a=t[c];l&&e(t[l-1],a)>0;)t[l]=t[--l];l!==c++&&(t[l]=a)}else for(var s=o(r/2),u=i(n(t,0,s),e),f=i(n(t,s),e),v=u.length,p=f.length,d=0,m=0;d<v||m<p;)t[d+m]=d<v&&m<p?e(u[d],f[m])<=0?u[d++]:f[m++]:d<v?u[d++]:f[m++];return t};t.exports=i},4412:(t,e,r)=>{var n=r(3770),o=r(8500);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){o(t,"throw",e)}}},4947:(t,e,r)=>{var n=r(6881),o=r(5234),i=r(982).start,a=RangeError,l=isFinite,c=Math.abs,s=Date.prototype,u=s.toISOString,f=n(s.getTime),v=n(s.getUTCDate),p=n(s.getUTCFullYear),d=n(s.getUTCHours),m=n(s.getUTCMilliseconds),h=n(s.getUTCMinutes),y=n(s.getUTCMonth),g=n(s.getUTCSeconds);t.exports=o((function(){return"0385-07-25T07:06:39.999Z"!==u.call(new Date(-50000000000001))}))||!o((function(){u.call(new Date(NaN))}))?function(){if(!l(f(this)))throw new a("Invalid time value");var t=this,e=p(t),r=m(t),n=e<0?"-":e>9999?"+":"";return n+i(c(e),n?6:4,0)+"-"+i(y(t)+1,2,0)+"-"+i(v(t),2,0)+"T"+i(d(t),2,0)+":"+i(h(t),2,0)+":"+i(g(t),2,0)+"."+i(r,3,0)+"Z"}:u},1305:(t,e,r)=>{var n=r(3174),o=TypeError;t.exports=function(t,e){if(!delete t[e])throw new o("Cannot delete property "+n(e)+" of "+n(t))}},2222:(t,e,r)=>{var n=r(8060).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},4598:(t,e,r)=>{var n=r(8060);t.exports=/MSIE|Trident/.test(n)},7340:(t,e,r)=>{var n=r(8060).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},4243:(t,e,r)=>{var n=r(9117),o=r(5234),i=r(6881),a=r(2618),l=r(2771).trim,c=r(9209),s=i("".charAt),u=n.parseFloat,f=n.Symbol,v=f&&f.iterator,p=1/u(c+"-0")!=-1/0||v&&!o((function(){u(Object(v))}));t.exports=p?function(t){var e=l(a(t)),r=u(e);return 0===r&&"-"===s(e,0)?-0:r}:u},9364:(t,e,r)=>{var n=r(9117),o=r(5234),i=r(6881),a=r(2618),l=r(2771).trim,c=r(9209),s=n.parseInt,u=n.Symbol,f=u&&u.iterator,v=/^[+-]?0x/i,p=i(v.exec),d=8!==s(c+"08")||22!==s(c+"0x16")||f&&!o((function(){s(Object(f))}));t.exports=d?function(t,e){var r=l(a(t));return s(r,e>>>0||(p(v,r)?16:10))}:s},9342:(t,e,r)=>{var n,o,i=r(9944),a=r(6881),l=r(2618),c=r(4932),s=r(5976),u=r(746),f=r(7065),v=r(3086).get,p=r(6676),d=r(4609),m=u("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,y=h,g=a("".charAt),b=a("".indexOf),x=a("".replace),k=a("".slice),w=(o=/b*/g,i(h,n=/a/,"a"),i(h,o,"a"),0!==n.lastIndex||0!==o.lastIndex),L=s.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(w||S||L||p||d)&&(y=function(t){var e,r,n,o,a,s,u,p=this,d=v(p),E=l(t),T=d.raw;if(T)return T.lastIndex=p.lastIndex,e=i(y,T,E),p.lastIndex=T.lastIndex,e;var O=d.groups,j=L&&p.sticky,I=i(c,p),P=p.source,C=0,A=E;if(j&&(I=x(I,"y",""),-1===b(I,"g")&&(I+="g"),A=k(E,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==g(E,p.lastIndex-1))&&(P="(?: "+P+")",A=" "+A,C++),r=new RegExp("^(?:"+P+")",I)),S&&(r=new RegExp("^"+P+"$(?!\\s)",I)),w&&(n=p.lastIndex),o=i(h,j?r:p,A),j?o?(o.input=k(o.input,C),o[0]=k(o[0],C),o.index=p.lastIndex,p.lastIndex+=o[0].length):p.lastIndex=0:w&&o&&(p.lastIndex=p.global?o.index+o[0].length:n),S&&o&&o.length>1&&i(m,o[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&O)for(o.groups=s=f(null),a=0;a<O.length;a++)s[(u=O[a])[0]]=o[u[1]];return o}),t.exports=y},4932:(t,e,r)=>{var n=r(3770);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},3113:(t,e,r)=>{var n=r(9944),o=r(4418),i=r(4578),a=r(4932),l=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in l||o(t,"flags")||!i(l,t)?e:n(a,t)}},5976:(t,e,r)=>{var n=r(5234),o=r(9117).RegExp,i=n((function(){var t=o("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),a=i||n((function(){return!o("a","y").sticky})),l=i||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:i}},6676:(t,e,r)=>{var n=r(5234),o=r(9117).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},4609:(t,e,r)=>{var n=r(5234),o=r(9117).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4686:(t,e,r)=>{var n=r(8060);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},982:(t,e,r)=>{var n=r(6881),o=r(7611),i=r(2618),a=r(9380),l=r(9509),c=n(a),s=n("".slice),u=Math.ceil,f=function(t){return function(e,r,n){var a,f,v=i(l(e)),p=o(r),d=v.length,m=void 0===n?" ":i(n);return p<=d||""===m?v:((f=c(m,u((a=p-d)/m.length))).length>a&&(f=s(f,0,a)),t?v+f:f+v)}};t.exports={start:f(!1),end:f(!0)}},9380:(t,e,r)=>{var n=r(6744),o=r(2618),i=r(9509),a=RangeError;t.exports=function(t){var e=o(i(this)),r="",l=n(t);if(l<0||l===1/0)throw new a("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(e+=e))1&l&&(r+=e);return r}},1875:(t,e,r)=>{var n=r(5613),o=r(6859);n({target:"Array",stat:!0,forced:!r(7283)((function(t){Array.from(t)}))},{from:o})},8981:(t,e,r)=>{var n=r(5613),o=r(4104).map;n({target:"Array",proto:!0,forced:!r(378)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},3975:(t,e,r)=>{var n=r(5613),o=r(6881),i=r(4977),a=r(3628),l=r(9389),c=r(1305),s=r(2618),u=r(5234),f=r(9295),v=r(5397),p=r(2222),d=r(4598),m=r(3008),h=r(7340),y=[],g=o(y.sort),b=o(y.push),x=u((function(){y.sort(void 0)})),k=u((function(){y.sort(null)})),w=v("sort"),L=!u((function(){if(m)return m<70;if(!(p&&p>3)){if(d)return!0;if(h)return h<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)y.push({k:e+n,v:r})}for(y.sort((function(t,e){return e.v-t.v})),n=0;n<y.length;n++)e=y[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:x||!k||!w||!L},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(L)return void 0===t?g(e):g(e,t);var r,n,o=[],u=l(e);for(n=0;n<u;n++)n in e&&b(o,e[n]);for(f(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:s(e)>s(r)?1:-1}}(t)),r=l(o),n=0;n<r;)e[n]=o[n++];for(;n<u;)c(e,n++);return e}})},8737:(t,e,r)=>{var n=r(5613),o=r(4947);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},7968:(t,e,r)=>{var n=r(5613),o=r(4243);n({global:!0,forced:parseFloat!==o},{parseFloat:o})},1759:(t,e,r)=>{var n=r(5613),o=r(9364);n({global:!0,forced:parseInt!==o},{parseInt:o})},8376:(t,e,r)=>{var n=r(5613),o=r(9342);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},568:(t,e,r)=>{var n=r(2735).PROPER,o=r(7509),i=r(3770),a=r(2618),l=r(5234),c=r(3113),s="toString",u=RegExp.prototype,f=u[s],v=l((function(){return"/a/b"!==f.call({source:"a",flags:"b"})})),p=n&&f.name!==s;(v||p)&&o(u,s,(function(){var t=i(this);return"/"+a(t.source)+"/"+a(c(t))}),{unsafe:!0})},3249:(t,e,r)=>{var n=r(5613),o=r(982).start;n({target:"String",proto:!0,forced:r(4686)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);